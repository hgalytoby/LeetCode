Premium

```py
class Solution:
    def read(self, buf, n):
        idx = 0
        buf4 = [''] * 4
        while (count:= read4(buf4)) != 0 and idx < n:
            for i in range(count):
                if idx == n:
                    break
                buf[idx] = buf4[i]
                idx += 1
        return idx
```